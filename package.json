{
    "name": "wordpress-vagrant-starkers",
    "description": "Baseline Wordpress build using Vagrant and Starkers",
    "version": "0.2.0",
    "author": "Jasal Vadgama - http://blacklabelcreative.com/",
    "repository": {
        "type": "git",
        "url": "git@github.com:donofkarma/wordpress-vagrant-starkers.git"
    },
    "licenses": [
        {
            "type": "MIT",
            "url": "https://github.com/donofkarma/wordpress-vagrant-starkers/blob/master/LICENSE-MIT"
        }
    ],
    "main": "/",
    "config": {
        "theme": "./site/wp-content/themes/custom-theme/assets"
    },
    "scripts": {
        "clean": "rimraf $npm_package_config_theme",

        "copy:data": "mkdir -p $npm_package_config_theme/data && cp -r ./src/data/ $npm_package_config_theme/data/",
        "copy:fonts": "mkdir -p $npm_package_config_theme/fonts && cp -r ./src/data/ $npm_package_config_theme/fonts/",
        "copy:images": "mkdir -p $npm_package_config_theme/images && cp -r ./src/images/public/ $npm_package_config_theme/images/",

        "build:css": "./node_modules/.bin/node-sass ./src/sass/ --output $npm_package_config_theme/css/",
        "build:script": "npm run test:script && mkdir -p $npm_package_config_theme/js && ./node_modules/.bin/babel ./src/js/script.js --out-file $npm_package_config_theme/js/script.js",

        "test:script": "./node_modules/.bin/eslint ./src/js/**",

        "prebuild": "npm run clean && npm run test:script",
        "build": "npm run build:css && npm run build:script",
        "postbuild": "",

        "deploy:css": "./node_modules/.bin/cleancss -o $npm_package_config_theme/css/style.css $npm_package_config_theme/css/style.css",
        "deploy:script": "./node_modules/.bin/uglifyjs --compress --mangle --stats --output $npm_package_config_theme/js/script.js -- $npm_package_config_theme/js/script.js",

        "predeploy": "npm run build",
        "deploy": "npm run deploy:css && npm run deploy:script",

        "watch:css": "onchange './src/sass/**/*' -- npm run build:css",
        "watch:script": "onchange './src/js/**/*' -- npm run build:script",

        "prewatch": "npm run build",
        "watch": "parallelshell 'npm run watch:css' 'npm run watch:script'"
    },
    "engines": {
        "node": ">= 4.2.6"
    },
    "devDependencies": {
        "babel-cli": "6.5.x",
        "babel-preset-es2015": "6.5.x",
        "clean-css": "3.4.x",
        "eslint": "2.2.x",
        "node-sass": "3.4.x",
        "onchange": "2.0.x",
        "parallelshell": "2.0.x",
        "rimraf": "2.5.x",
        "uglify-js": "2.6.x"
    }
}
